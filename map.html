<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ë‚´ ì£¼ë³€ ì´ë²¤íŠ¸ - PoPPoP</title>
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f36d5acb0b1d93c852f69939b608fdb3&libraries=services&autoload=false"></script>
    <style>
        /* 1. ë°°ê²½ ë° ì „ì²´ ë ˆì´ì•„ì›ƒ */
        body { background-color: #fcfcfc; color: #333; }
        .map-wrapper { max-width: 1100px; margin: 0 auto; padding: 20px; padding-bottom: 100px; }

        /* 2. ìƒë‹¨ í…ìŠ¤íŠ¸ */
        .map-title-section { text-align: left; margin-bottom: 20px; }
        .map-title-section h2 { font-size: 1.4rem; font-weight: 800; margin-bottom: 5px; }
        .location-badge { 
            display: inline-block; background: #fff; border: 1px solid #eee; 
            padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; color: #666;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* 3. ì§€ë„ ë””ìì¸ (ì•¡ì ìŠ¤íƒ€ì¼) */
        .map-frame {
            position: relative;
            width: 100%;
            height: 350px; 
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border: 4px solid #fff;
            margin-bottom: 25px;
        }
        #map { width: 100%; height: 100%; }

        /* 4. ë§ˆì»¤ ì •ë³´ íŒ */
        #event-info-tip {
            position: absolute; bottom: 15px; left: 15px; right: 15px;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(5px);
            padding: 12px; border-radius: 12px; display: none;
            z-index: 10; border: 1px solid rgba(255, 199, 44, 0.3);
        }

        /* 5. âœ¨ ìˆ˜ì •: ê°€ë¡œ 4ì—´ ê·¸ë¦¬ë“œ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .nearby-header { text-align: left; margin-bottom: 12px; }
        .nearby-header h3 { font-size: 1rem; margin: 0; }

        #nearby-list {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* ë¬´ì¡°ê±´ ê°€ë¡œ 4ê°œ */
            gap: 10px;
        }

        .nearby-item {
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid #f0f0f0;
            cursor: pointer;
            transition: 0.2s;
        }

        .nearby-item:hover { transform: translateY(-3px); }

        .nearby-item img {
            width: 100%;
            height: 70px; /* ì¹´ë“œê°€ ì‘ìœ¼ë¯€ë¡œ ì´ë¯¸ì§€ ë†’ì´ ì¶•ì†Œ */
            object-fit: cover;
        }

        .nearby-info {
            padding: 6px;
            text-align: left;
        }

        .nearby-info h4 {
            margin: 0;
            font-size: 0.75rem;
            color: #333;
            /* ì œëª© í•œ ì¤„ë¡œ ìë¥´ê¸° */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .distance-tag {
            font-size: 0.65rem;
            color: #FFC72C;
            font-weight: bold;
            margin-top: 2px;
        }

        /* 6. ë‚´ë¹„ê²Œì´ì…˜ ë°” */
        #mobile-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; 
            background: white; border-top: 1px solid #eee;
            display: flex; justify-content: space-around; padding: 10px 0;
            z-index: 9999 !important;
        }
    </style>
</head>
<body>
    <header>
        <h1><a href="index.html" style="text-decoration:none; color:#FFC72C;">PoPPoP</a></h1>
    </header>

    <div class="map-wrapper">
        <section class="map-title-section">
            <h2>ë‚´ ì£¼ë³€ í•«í”Œ ğŸ“</h2>
            <div class="location-badge">
                <i class="fas fa-location-arrow"></i> í˜„ì¬ ìœ„ì¹˜ ì£¼ë³€ ê²€ìƒ‰ ì¤‘
            </div>
        </section>
        
        <div class="map-frame">
            <div id="map"></div>
            <div id="event-info-tip">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div id="tip-text" style="font-weight:bold; font-size:0.85rem;">ë§ˆì»¤ë¥¼ í´ë¦­í•´ ë³´ì„¸ìš”!</div>
                    <button id="tip-link" style="background:#FFC72C; border:none; padding:4px 8px; border-radius:5px; font-size:0.7rem; font-weight:bold; cursor:pointer;">ì´ë™</button>
                </div>
            </div>
        </div>
        
        <div class="nearby-header">
            <h3>ğŸ“ ê°€ì¥ ê°€ê¹Œìš´ TOP 4</h3>
        </div>

        <div id="nearby-list"></div>
    </div>

    <nav id="mobile-nav">
        <a href="index.html" class="nav-item">
            <i class="fas fa-home"></i><span>í™ˆ</span>
        </a>
        <a href="index.html?view=favorites" class="nav-item">
            <i class="far fa-bookmark"></i><span>ì°œ</span>
        </a>
        <a href="map.html" class="nav-item active">
            <i class="fas fa-map-marker-alt"></i><span>ë‚´ ì£¼ë³€</span>
        </a>
        <a href="community.html" class="nav-item">
            <i class="fas fa-comments"></i><span>ì»¤ë®¤ë‹ˆí‹°</span>
        </a>
    </nav>

    <script src="map.js"></script> 
</body>
</html>